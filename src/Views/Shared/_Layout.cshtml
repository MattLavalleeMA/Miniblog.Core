@using Miniblog.Core.Configuration
@inject IOptionsSnapshot<BlogSettings> settings
@inject WebManifest manifest
@{
    var host = Context.Request.Scheme + "://" + Context.Request.Host;
}
<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8" />
    <title>@ViewData["Title"]</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="@ViewData["Description"]" />

    <link rel="preload" href="~/js/site.js" as="script" />
    <link rel="preload" href="~/css/belowthefold.scss" as="style" />
    <noscript><link rel="stylesheet" href="~/css/belowthefold.scss" /></noscript>
    @RenderSection("Preload", required: false)
    <link rel="stylesheet" href="~/css/abovethefold.scss" inline />

    <meta property="og:type" content="article" />
    <meta property="og:title" content="@ViewData["Title"]" />
    <meta property="og:description" content="@ViewData["Description"]" />
    <meta property="og:url" content="@(host + Context.Request.Path)" />
    <meta property="og:image" content="@host/img/icon512x512.png" />
    <meta property="og:image:width" content="512" />
    <meta property="og:image:height" content="512" />

    <link rel="apple-touch-icon" sizes="57x57" href="~/img/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="~/img/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="~/img/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="~/img/apple-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="~/img/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="~/img/apple-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="~/img/apple-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="~/img/apple-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="~/img/apple-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="~/img/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="~/img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="~/img/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="~/img/favicon-16x16.png" />
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="~/img/ms-icon-144x144.png">
    <meta name="msapplication-square150x150logo" content="~/img/icon180x180.png" />

    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#ffffff">

    <link rel="edituri" type="application/rsd+xml" title="RSD" href="~/rsd.xml" />
    <link rel="alternate" type="application/rss+xml" href="~/feed/rss/" />
    <link rel="alternate" type="application/atom+xml" href="~/feed/atom/" />
    @RenderSection("Head", required: false)
</head>
<body itemscope itemtype="http://schema.org/WebPage">

    <header class="siteheader">
        <div class="container">
            <p itemprop="name"><a href="~/">@manifest.Name</a></p>
            By <span itemprop="author">@settings.Value.Owner</span>
            <section class="social-links">
                <ul class="inline">
                    <li>
                        <a class="social-link" title="Visit me on LinkedIn" href="https://linkedin.com/in/mattlavallee" target="_blank" rel="noopener noreferrer">
                            <span class="SVGInline">
                                <svg class="SVGInline-svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">
                                    <path d="M1000 500c0 277-223 500-500 500S0 777 0 500 223 0 500 0s500 223 500 500zM375 260c-1-41-32-73-83-73-50 0-83 32-83 73s32 73 82 73h1c51 0 83-32 83-73zm-21 136H229v354h125V396zm458 166c0-114-56-187-146-187-50 0-87 30-104 75l-4-54H434c1 13 3 83 3 83v271h125V562c0-50 23-83 62-83 38 0 63 20 63 83v188h125V562z"></path>
                                </svg>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a class="social-link" title="Visit me on Twitter" href="https://twitter.com/mattlavallee" target="_blank" rel="noopener noreferrer">
                            <span class="SVGInline">
                                <svg class="SVGInline-svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">
                                    <path d="M1000 500c0 277-223 500-500 500S0 777 0 500 223 0 500 0s500 223 500 500zM875 317c-25 11-53 18-82 22 30-17 51-45 61-79-28 17-57 28-89 35-25-28-62-45-103-45-78 0-141 63-141 142 0 10 1 22 3 32-118-5-223-62-294-149-11 22-18 46-18 72 0 50 24 93 62 118-23 0-45-7-64-18v2c0 69 49 126 114 140-12 3-24 4-37 4-9 0-19-1-27-2 18 57 71 95 132 96-48 38-108 65-176 65-11 0-23-1-33-2 62 40 138 62 217 62 262 0 404-216 404-404v-18c28-19 51-45 71-73z"></path>
                                </svg>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a class="social-link" title="Visit me on GitHub" href="https://github.com/MattLavalleeMA" target="_blank" rel="noopener noreferrer">
                            <span class="SVGInline">
                                <svg class="SVGInline-svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">
                                    <path d="M1000 508c0 232-160 429-375 485V862c0-41-10-98-52-131 134-20 239-99 239-223 0-51-21-102-58-144 11-47 17-105-4-148-53 5-106 32-145 56-33-8-67-14-105-14s-73 6-106 14c-39-24-91-51-144-56-21 43-16 101-5 148-37 42-57 93-57 144 0 124 105 203 239 223-20 15-32 36-40 57-105 2-189-81-190-81-5-4-12-5-16-2-6 3-9 10-7 16 2 5 44 124 201 172v100C160 937 0 740 0 508 0 233 223 8 500 8c275 0 500 225 500 500z"></path>
                                </svg>
                            </span>
                        </a>
                    </li>
                </ul>
            </section>
        </div>
    </header>

    <main itemprop="mainEntity" itemscope itemtype="http://schema.org/Blog">
        <noscript>
            <p class="container">Some features of this website do not work as expected when JavaScript is disabled</p>
        </noscript>
        @RenderBody()
    </main>

    <footer class="sitefooter">
        <div class="container">
            <nav>
                <ul>
                    @{
                        string path = Context.Request.Path;

                        if (User.Identity.IsAuthenticated)
                        {
                            <li><a asp-controller="Blog" asp-action="Edit">New post</a></li>
                            <li><a href="~/logout/" title="Sign out as administrator">Sign out</a></li>
                        }
                        else
                        {
                            <li><a href="~/login/?returnUrl=@path" rel="nofollow" title="Sign in as administrator">Sign in</a></li>
                        }
                    }
                </ul>
            </nav>
            <p>
                Powered by <a href="https://github.com/MattLavalleeMA/Miniblog.Core">my fork</a> of <a href="https://github.com/madskristensen/" rel="noopener noreferrer" target="_blank">Mads Kristensen</a>'s Miniblog.Core
            </p>
        </div>
    </footer>

    <!-- This lazy loads the stylesheet in a non-render blocking way -->
    <link rel="preload" href="~/css/belowthefold.scss" as="style" />
    <noscript><link rel="stylesheet" href="~/css/belowthefold.scss" /></noscript>

    <script src="~/js/site.js" async defer></script>
    @RenderSection("Scripts", required: false)
</body>
</html>